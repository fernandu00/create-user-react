{"ast":null,"code":"import _regeneratorRuntime from\"/home/fernando/Documentos/Curso Javascript/Node/Projetos/api/api_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/fernando/Documentos/Curso Javascript/Node/Projetos/api/api_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/fernando/Documentos/Curso Javascript/Node/Projetos/api/api_front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import logo from\"./logo.svg\";import\"./App.css\";import{useState}from\"react\";import axios from\"axios\";import{FaTrash}from\"react-icons/fa\";import{AiFillEdit}from\"react-icons/ai\";import Create from\"./components/Create\";import Edit from\"./components/Edit\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),job=_useState6[0],setJob=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),username=_useState8[0],setUsername=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isEditing=_useState10[0],setIsEditing=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),editID=_useState12[0],setEditID=_useState12[1];var getUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:3001/getusers\");case 2:response=_context.sent;setUsers(response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getUsers(){return _ref.apply(this,arguments);};}();var createNewUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return axios.post(\"http://localhost:3001/createuser\",{name:name,job:job,username:username});case 3:// const { newName, newJob, newUsername } = response.data;\nalert(\"user \".concat(name,\" created \\n  job: \").concat(job,\" \\n username:\").concat(username));setName(\"\");setJob(\"\");setUsername(\"\");getUsers();case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function createNewUser(_x){return _ref2.apply(this,arguments);};}();var deleteUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(_id){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(\"http://localhost:3001/users/\".concat(_id));case 2:response=_context3.sent;console.log(response.data);getUsers();case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function deleteUser(_x2){return _ref3.apply(this,arguments);};}();var editUser=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(_id){var editingUser,name,job,username;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return users.find(function(item){return item._id===_id;});case 2:editingUser=_context4.sent;name=editingUser.name,job=editingUser.job,username=editingUser.username;setIsEditing(true);setName(name);setJob(job);setUsername(username);setEditID(_id);case 9:case\"end\":return _context4.stop();}}},_callee4);}));return function editUser(_x3){return _ref4.apply(this,arguments);};}();var handleUpdate=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(editID){var response;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios.patch(\"http://localhost:3001/users/\".concat(editID),{name:name,job:job,username:username});case 2:response=_context5.sent;setName(\"\");setJob(\"\");setUsername(\"\");setIsEditing(false);getUsers();case 8:case\"end\":return _context5.stop();}}},_callee5);}));return function handleUpdate(_x4){return _ref5.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[isEditing?/*#__PURE__*/_jsx(Edit,{name:name,setName:setName,job:job,setJob:setJob,username:username,setUsername:setUsername,createNewUser:createNewUser,editID:editID,setEditID:setEditID,setIsEditing:setIsEditing,editUser:editUser,handleUpdate:handleUpdate}):/*#__PURE__*/_jsx(Create,{name:name,setName:setName,job:job,setJob:setJob,username:username,setUsername:setUsername,createNewUser:createNewUser}),/*#__PURE__*/_jsx(\"article\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"submit-btn\",onClick:getUsers,children:\"List users\"})}),users.length>0&&/*#__PURE__*/_jsx(\"h1\",{children:\"Users\"}),/*#__PURE__*/_jsx(\"section\",{className:\"user-container\",children:users.map(function(user){var _id=user._id,name=user.name,job=user.job,username=user.username;return/*#__PURE__*/_jsxs(\"article\",{className:\"users\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"name\",children:[\"Name: \",name,\" \"]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"job\",children:[\"Job: \",job]}),/*#__PURE__*/_jsxs(\"p\",{className:\"username\",children:[\"Username: \",username]}),/*#__PURE__*/_jsxs(\"div\",{className:\"icon-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"icon\",onClick:function onClick(){return editUser(_id);},children:/*#__PURE__*/_jsx(AiFillEdit,{className:\"edit\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"icon\",onClick:function onClick(){return deleteUser(_id);},children:/*#__PURE__*/_jsx(FaTrash,{className:\"delete\"})})]})]},_id);})})]});}export default App;","map":{"version":3,"names":["logo","useState","axios","FaTrash","AiFillEdit","Create","Edit","App","users","setUsers","name","setName","job","setJob","username","setUsername","isEditing","setIsEditing","editID","setEditID","getUsers","get","response","data","createNewUser","e","preventDefault","post","alert","deleteUser","_id","delete","console","log","editUser","find","item","editingUser","handleUpdate","patch","length","map","user"],"sources":["/home/fernando/Documentos/Curso Javascript/Node/Projetos/api/api_front/src/App.js"],"sourcesContent":["import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { FaTrash } from \"react-icons/fa\";\nimport { AiFillEdit } from \"react-icons/ai\";\nimport Create from \"./components/Create\";\nimport Edit from \"./components/Edit\";\n\nfunction App() {\n  const [users, setUsers] = useState([]);\n\n  const [name, setName] = useState(\"\");\n  const [job, setJob] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [isEditing, setIsEditing] = useState(false);\n  const [editID, setEditID] = useState(null);\n\n  const getUsers = async () => {\n    const response = await axios.get(\"http://localhost:3001/getusers\");\n    setUsers(response.data);\n  };\n\n  const createNewUser = async (e) => {\n    e.preventDefault();\n    await axios.post(\"http://localhost:3001/createuser\", {\n      name,\n      job,\n      username,\n    });\n\n    // const { newName, newJob, newUsername } = response.data;\n    alert(`user ${name} created \\n  job: ${job} \\n username:${username}`);\n    setName(\"\");\n    setJob(\"\");\n    setUsername(\"\");\n    getUsers();\n  };\n\n  const deleteUser = async (_id) => {\n    const response = await axios.delete(`http://localhost:3001/users/${_id}`);\n    console.log(response.data);\n    getUsers();\n  };\n\n  const editUser = async (_id) => {\n    const editingUser = await users.find((item) => item._id === _id);\n    const { name, job, username } = editingUser;\n\n    setIsEditing(true);\n    setName(name);\n    setJob(job);\n    setUsername(username);\n    setEditID(_id);\n  };\n\n  const handleUpdate = async (editID) => {\n    const response = await axios.patch(\n      `http://localhost:3001/users/${editID}`,\n      {\n        name,\n        job,\n        username,\n      }\n    );\n    setName(\"\");\n    setJob(\"\");\n    setUsername(\"\");\n    setIsEditing(false);\n    getUsers();\n  };\n\n  return (\n    <div className=\"App\">\n      {isEditing ? (\n        <Edit\n          name={name}\n          setName={setName}\n          job={job}\n          setJob={setJob}\n          username={username}\n          setUsername={setUsername}\n          createNewUser={createNewUser}\n          editID={editID}\n          setEditID={setEditID}\n          setIsEditing={setIsEditing}\n          editUser={editUser}\n          handleUpdate={handleUpdate}\n        />\n      ) : (\n        <Create\n          name={name}\n          setName={setName}\n          job={job}\n          setJob={setJob}\n          username={username}\n          setUsername={setUsername}\n          createNewUser={createNewUser}\n        />\n      )}\n      <article>\n        <button className=\"submit-btn\" onClick={getUsers}>\n          List users\n        </button>\n      </article>\n      {users.length > 0 && <h1>Users</h1>}\n      <section className=\"user-container\">\n        {users.map((user) => {\n          const { _id, name, job, username } = user;\n          return (\n            <article className=\"users\" key={_id}>\n              <h2 className=\"name\">Name: {name} </h2>\n              <h3 className=\"job\">Job: {job}</h3>\n              <p className=\"username\">Username: {username}</p>\n              <div className=\"icon-container\">\n                <button className=\"icon\" onClick={() => editUser(_id)}>\n                  <AiFillEdit className=\"edit\" />\n                </button>\n                <button className=\"icon\" onClick={() => deleteUser(_id)}>\n                  <FaTrash className=\"delete\" />\n                </button>\n              </div>\n            </article>\n          );\n        })}\n      </section>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}